<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biomechanics Interactive Learning Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Global Styles */
        :root {
            --primary-color: #2980b9;
            --secondary-color: #2c3e50;
            --accent-color: #3498db;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --light-bg: #f4f4f9;
            --dark-text: #2c3e50;
            --light-text: #ecf0f1;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light-bg);
            color: var(--dark-text);
            line-height: 1.6;
        }

        /* Navigation */
        nav {
            background-color: var(--primary-color);
            padding: 1rem 2rem;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-logo {
            color: white;
            font-weight: bold;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
        }

        .nav-logo i {
            margin-right: 10px;
        }

        .nav-links {
            display: flex;
        }

        nav a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            margin: 0 0.5rem;
            border-radius: 5px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        nav a:hover {
            background-color: var(--accent-color);
            transform: translateY(-2px);
        }

        .user-profile {
            display: flex;
            align-items: center;
            color: white;
        }

        .user-profile img {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            margin-right: 10px;
        }

        /* Main Container */
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 100px auto 40px;
            background-color: #ffffff;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }

        /* Typography */
        h1, h2, h3, h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 2rem;
            position: relative;
        }

        h1::after {
            content: '';
            display: block;
            width: 100px;
            height: 4px;
            background: var(--accent-color);
            margin: 10px auto;
            border-radius: 2px;
        }

        h2 {
            font-size: 2rem;
            margin-top: 3rem;
            border-bottom: 2px solid var(--light-bg);
            padding-bottom: 0.5rem;
        }

        h3 {
            font-size: 1.5rem;
            margin-top: 2rem;
        }

        p {
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            padding: 4rem 2rem;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .hero h1 {
            color: white;
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.3rem;
            max-width: 800px;
            margin: 0 auto 2rem;
        }

        .hero-btn {
            display: inline-block;
            background-color: white;
            color: var(--primary-color);
            padding: 0.8rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .hero-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }

        /* Concept Section */
        .concept-description {
            margin-bottom: 2rem;
        }

        .image-section {
            text-align: center;
            margin: 2rem 0;
        }

        .image-section img {
            max-width: 100%;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .video-section {
            margin: 3rem 0;
            text-align: center;
        }

        .video-section iframe {
            width: 100%;
            max-width: 800px;
            height: 450px;
            border-radius: 10px;
        }

        /* Learning Path */
        .learning-path {
            margin: 3rem 0;
        }

        .modules-container {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .module-card {
            flex: 1 1 300px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .module-card:hover {
            transform: translateY(-5px);
        }

        .module-header {
            padding: 1rem;
            color: white;
            background-color: var(--primary-color);
        }

        .module-content {
            padding: 1.5rem;
        }

        .module-content li {
            list-style-type: none;
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
        }

        .module-content li::before {
            content: '•';
            color: var(--accent-color);
            margin-right: 10px;
            font-size: 1.5rem;
        }

        .module-content li.completed {
            color: #777;
        }

        .module-content li.completed::before {
            content: '✓';
            color: var(--success-color);
        }

        .start-module {
            display: block;
            width: 100%;
            padding: 0.8rem;
            background-color: var(--accent-color);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        .start-module:hover {
            background-color: var(--primary-color);
        }

        .start-module:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        /* 3D Model Section */
        .model-container {
            margin: 3rem 0;
        }

        .model-wrapper {
            margin-bottom: 3rem;
        }

        .model-content {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .model-iframe {
            flex: 1;
            min-height: 400px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .model-description {
            flex: 1;
            padding: 1.5rem;
            background-color: var(--light-bg);
            border-radius: 10px;
        }

        .model-description h3 {
            color: var(--primary-color);
            margin-top: 0;
        }

        .model-description ul {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }

        .model-description li {
            margin-bottom: 0.5rem;
        }

        /* Simulation Tool */
        .simulation-tool {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            margin: 3rem 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .simulation-container {
            margin-top: 1.5rem;
        }

        #arm-simulation {
            width: 100%;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 1.5rem;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .controls label {
            flex: 1;
            min-width: 200px;
        }

        .controls input[type="range"] {
            width: 100%;
            margin-top: 0.5rem;
        }

        #calculate-torque {
            padding: 0.5rem 1.5rem;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #calculate-torque:hover {
            background-color: var(--primary-color);
        }

        .simulation-results {
            background-color: var(--light-bg);
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1.5rem;
        }

        /* Progress Dashboard */
        .progress-dashboard {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            margin: 3rem 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .progress-stats {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .stat-card {
            flex: 1;
            min-width: 150px;
            background-color: var(--light-bg);
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        .stat-label {
            color: var(--secondary-color);
            font-size: 0.9rem;
        }

        /* Progress Tracking Styles */
        .module-progress {
            margin-top: 2rem;
            background-color: var(--light-bg);
            padding: 1.5rem;
            border-radius: 10px;
        }

        .progress-track {
            margin-top: 1rem;
        }

        .progress-step {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            padding: 0.5rem;
            background-color: white;
            border-radius: 8px;
        }

        .progress-step span:first-child {
            flex: 1;
            font-weight: 500;
        }

        .progress-bar-container {
            flex: 2;
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 0 1rem;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            background-color: var(--accent-color);
            transition: width 0.5s ease;
        }

        .progress-percent {
            min-width: 40px;
            text-align: right;
            font-weight: bold;
        }

        .completed-module {
            background-color: rgba(46, 204, 113, 0.1);
            border-left: 4px solid var(--success-color);
        }

        .badges-earned {
            margin-top: 2rem;
        }

        .badge {
            display: inline-block;
            margin: 0.5rem;
            text-align: center;
            position: relative;
        }

        .badge img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--accent-color);
        }

        .badge.locked img {
            filter: grayscale(100%);
            opacity: 0.7;
            border-color: #ccc;
        }

        /* Community Forum */
        .community-forum {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            margin: 3rem 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .forum-tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 1.5rem;
        }

        .forum-tabs button {
            padding: 0.5rem 1.5rem;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-weight: 500;
            color: var(--secondary-color);
            transition: all 0.3s;
        }

        .forum-tabs button.active {
            border-bottom-color: var(--accent-color);
            color: var(--primary-color);
        }

        .discussion-thread {
            padding: 1.5rem;
            border: 1px solid #eee;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .thread-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .thread-meta {
            color: #777;
            font-size: 0.9rem;
        }

        .thread-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .thread-actions button {
            padding: 0.3rem 0.8rem;
            background-color: var(--light-bg);
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .thread-actions button:hover {
            background-color: #e0e0e0;
        }

        /* Resource Library */
        .resource-library {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            margin: 3rem 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .resource-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .resource-filters select,
        .resource-filters input {
            padding: 0.5rem 1rem;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .resource-filters input {
            flex: 1;
            min-width: 200px;
        }

        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .resource-card {
            border: 1px solid #eee;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s;
        }

        .resource-card:hover {
            transform: translateY(-5px);
        }

        .resource-thumbnail {
            height: 150px;
            background-size: cover;
            background-position: center;
        }

        .resource-info {
            padding: 1rem;
        }

        .resource-meta {
            color: #777;
            font-size: 0.9rem;
            margin: 0.5rem 0;
        }

        .resource-actions {
            display: flex;
            gap: 0.5rem;
        }

        .resource-actions button {
            padding: 0.3rem 0.8rem;
            background-color: var(--light-bg);
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .resource-actions button:hover {
            background-color: var(--accent-color);
            color: white;
        }

        /* Quiz System */
        .quiz-container {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            margin: 3rem 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .question {
            margin-bottom: 25px;
        }

        .question h4 {
            margin-bottom: 10px;
            color: #0d47a1;
        }

        label {
            display: block;
            margin-bottom: 8px;
            padding: 8px;
            background-color: #f1f1f1;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
        }

        label:hover {
            background-color: #e3f2fd;
        }

        .correct-answer {
            margin-top: 8px;
            color: #d32f2f;
            font-style: italic;
        }

        button {
            padding: 12px 25px;
            background-color: #1976d2;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            display: block;
            margin: 20px auto;
        }

        button:hover {
            background-color: #1565c0;
        }

        #result {
            margin-top: 20px;
            padding: 15px;
            background-color: #e8f5e9;
            border: 1px solid #a5d6a7;
            border-radius: 10px;
            color: #2e7d32;
            font-weight: bold;
            text-align: center;
        }

        #timer {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            color: #d32f2f;
            margin-bottom: 20px;
        }

        /* Modal styles */
        .quiz-modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.4);
            overflow: auto;
            padding-top: 60px;
        }

        .quiz-modal-content {
            background-color: #ffffff;
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 80%;
            max-width: 700px;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        /* Start Quiz Button */
        .start-quiz-btn {
            display: inline-block;
            background-color: #1976d2;
            color: white;
            padding: 10px 20px;
            text-align: center;
            font-size: 18px;
            border-radius: 5px;
            text-decoration: none;
            cursor: pointer;
        }

        .start-quiz-btn:hover {
            background-color: #1565c0;
        }

        /* External Tools Integration */
        .external-integration {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            margin: 3rem 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .tool-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 1.5rem;
            border: 1px solid #eee;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .tool-card img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            margin-bottom: 1rem;
        }

        .launch-tool {
            padding: 0.5rem 1.5rem;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 1rem;
        }

        .launch-tool:hover {
            background-color: var(--primary-color);
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 120px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 20px;
            border-radius: 10px;
            width: 80%;
            max-width: 600px;
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
            animation: modalopen 0.5s;
        }

        @keyframes modalopen {
            from {opacity: 0; transform: translateY(-50px);}
            to {opacity: 1; transform: translateY(0);}
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: black;
        }

        /* إعدادات زر بدء الكويز */
        .start-quiz-btn {
            display: block;
            width: 200px;
            margin: 30px auto;
            padding: 15px;
            background-color: #3498db;
            color: white;
            font-size: 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: background-color 0.3s;
            text-decoration: none;
        }

        .start-quiz-btn:hover {
            background-color: #2980b9;
        }

        /* Footer */
        footer {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin: 1rem 0;
        }

        .footer-links a {
            color: white;
            margin: 0 1rem;
            text-decoration: none;
        }

        .footer-links a:hover {
            text-decoration: underline;
        }

        .social-icons {
            margin: 1rem 0;
        }

        .social-icons a {
            color: white;
            margin: 0 0.5rem;
            font-size: 1.5rem;
        }

        /* Responsive Adjustments */
        @media (min-width: 992px) {
            .model-content {
                flex-direction: row;
            }
        }

        @media (max-width: 768px) {
            nav {
                flex-direction: column;
                padding: 1rem;
            }

            .nav-links {
                margin-top: 1rem;
                flex-wrap: wrap;
                justify-content: center;
            }

            .user-profile {
                margin-top: 1rem;
            }

            h1 {
                font-size: 2rem;
            }

            .hero h1 {
                font-size: 2.2rem;
            }
        }
    </style>
</head>
<body>
<!-- Navigation -->
<nav>
    <div class="nav-logo">
        <i class="fas fa-atom"></i>
        <span>BioLearn</span>
    </div>
    <div class="nav-links">
        <a href="#concept">Concept</a>
        <a href="#learning-path">Learning Path</a>
        <a href="#models">3D Models</a>
        <a href="#simulation">Simulations</a>
        <a href="#quiz">Quiz</a>
        <a href="#community">Community</a>
        <a href="#resources">Resources</a>
    </div>
    <div class="user-profile">
        <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="User">
        <span>Sarah</span>
    </div>
</nav>

<!-- Main Container -->
<div class="container">
    <!-- Hero Section -->
    <section class="hero">
        <h1>Master Biomechanics with Interactive Learning</h1>
        <p>Explore the fascinating world of human movement through our comprehensive collection of 3D models, simulations, and interactive learning tools.</p>
        <a href="#learning-path" class="hero-btn">Start Learning Now</a>
    </section>

    <!-- Concept Section -->
    <section id="concept" class="concept-description">
        <h2>What is Biomechanics?</h2>
        <p>Biomechanics is the study of the mechanical aspects of living organisms, particularly focusing on the movement and structure of the human body. It integrates principles from physics and biology to understand how forces interact with the body to produce movement and how the body can respond to those forces effectively.</p>
        <p>In this section, we will focus on Newton's Laws of Motion, which are fundamental to understanding human movement and force generation in biomechanics.</p>
    </section>

    <!-- Image Section -->
    <div class="image-section">
        <h2>Newton's Second Law of Motion</h2>
        <p>The second law states that the force exerted on an object is equal to the mass of that object multiplied by its acceleration. This is often written as:</p>
        <p><strong>F = ma</strong></p>
        <img src="https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Newton's Second Law">
    </div>

    <!-- Video Section -->
    <div id="video" class="video-section">
        <h2>Watch the Video</h2>
        <p>Learn more about Newton's Laws and how they apply to biomechanics in this educational video:</p>
        <iframe width="400" height="400" src="https://www.youtube.com/embed/JGO_zDWmkvk?si=0d3yjOA-uVqvDOA1" title="Biomechanics and Newton's Laws" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    <section id="learning-path" class="learning-path">
        <h2>Biomechanics Learning Path</h2>
        <p>Follow our structured learning path to build your knowledge step by step. Track your progress and earn badges as you master each concept.</p>

        <div class="modules-container">
            <div class="module-card">
                <div class="module-header" style="background-color: #3498db;">
                    <h3>Foundational Level</h3>
                </div>
                <ul class="module-content">
                    <li>Introduction to Biomechanics</li>
                    <li>Newton's Laws of Motion</li>
                    <li>Concepts of Force and Torque</li>
                    <li class="completed">✔ Basics of Linear Motion</li>
                </ul>
                <button class="start-module" onclick="startModule('foundational')">Start Learning</button>
            </div>

            <div class="module-card">
                <div class="module-header" style="background-color: #2ecc71;">
                    <h3>Intermediate Level</h3>
                </div>
                <ul class="module-content">
                    <li>Muscle and Joint Mechanics</li>
                    <li>Gait and Movement Analysis</li>
                    <li>Spinal Biomechanics</li>
                </ul>
                <button class="start-module" id="intermediate-btn" disabled>Complete Foundational Level</button>
            </div>

            <div class="module-card">
                <div class="module-header" style="background-color: #9b59b6;">
                    <h3>Advanced Level</h3>
                </div>
                <ul class="module-content">
                    <li>Sports Biomechanics</li>
                    <li>Rehabilitation Mechanics</li>
                    <li>Research Methods</li>
                </ul>
                <button class="start-module" id="advanced-btn" disabled>Complete Intermediate Level</button>
            </div>
        </div>
    </section>
    <!-- Learning Path -->
  <!--  <section id="learning-path" class="learning-path">
        <h2>Biomechanics Learning Path</h2>
        <p>Follow our structured learning path to build your knowledge step by step. Track your progress and earn badges as you master each concept.</p>

        <div class="modules-container">
            <div class="module-card">
                <div class="module-header" style="background-color: #3498db;">
                    <h3>Foundational Level</h3>
                </div>
                <ul class="module-content">
                    <li>Introduction to Biomechanics</li>
                    <li>Newton's Laws of Motion</li>
                    <li>Concepts of Force and Torque</li>
                    <li class="completed">✔ Basics of Linear Motion</li>
                </ul>
                <button class="start-module" onclick="startModule('foundational')">Start Learning</button>
            </div>

            <div class="module-card">
                <div class="module-header" style="background-color: #2ecc71;">
                    <h3>Intermediate Level</h3>
                </div>
                <ul class="module-content">
                    <li>Muscle and Joint Mechanics</li>
                    <li>Gait and Movement Analysis</li>
                    <li>Spinal Biomechanics</li>
                </ul>
                <button class="start-module" id="intermediate-btn" disabled>Complete Foundational Level</button>
            </div>

            <div class="module-card">
                <div class="module-header" style="background-color: #9b59b6;">
                    <h3>Advanced Level</h3>
                </div>
                <ul class="module-content">
                    <li>Sports Biomechanics</li>
                    <li>Rehabilitation Mechanics</li>
                    <li>Research Methods</li>
                </ul>
                <button class="start-module" id="advanced-btn" disabled>Complete Intermediate Level</button>
            </div>
        </div>
    </section>
-->
    <!-- 3D Model Section -->
    <section id="models" class="model-container">
        <h2>Interactive 3D Models</h2>
        <p>Explore these detailed 3D models to better understand biomechanical concepts. Click and drag to rotate, scroll to zoom.</p>

        <!-- Model 1 -->
        <div class="model-wrapper">
            <h3>Sitting Posture Analysis</h3>
            <div class="model-content">
                <div class="model-iframe">
                    <iframe title="Sitting scrolls phone 1" frameborder="0" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true" allow="autoplay; fullscreen; xr-spatial-tracking" xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share src="https://sketchfab.com/models/a064349236254ccd8d5bf56ab2b917fb/embed"></iframe>
                </div>
                <div class="model-description">
                    <h4>Biomechanics of Sitting Posture</h4>
                    <p>This model demonstrates the biomechanics of sitting posture while using a smartphone. Observe how the spine curves and the neck flexes forward, creating tension in the cervical vertebrae.</p>
                    <p>Key biomechanical insights:</p>
                    <ul>
                        <li>The head's weight increases significantly when tilted forward due to the lever arm effect</li>
                        <li>Increased strain on neck muscles (up to 60 lbs of force at 60° flexion)</li>
                        <li>Pressure distribution on lumbar vertebrae</li>
                        <li>Impact on breathing and digestion from prolonged slouching</li>
                    </ul>
                    <button class="launch-tool" onclick="showPostureTips()">Show Posture Tips</button>
                </div>
            </div>
            <p style="font-size: 13px; font-weight: normal; margin: 5px; color: #4A4A4A;">
                <a href="https://sketchfab.com/3d-models/sitting-scrolls-phone-1-a064349236254ccd8d5bf56ab2b917fb?utm_medium=embed&utm_campaign=share-popup&utm_content=a064349236254ccd8d5bf56ab2b917fb" target="_blank" rel="nofollow" style="font-weight: bold; color: #1CAAD9;"> Sitting scrolls phone 1 </a> by
                <a href="https://sketchfab.com/wondarstudios?utm_medium=embed&utm_campaign=share-popup&utm_content=a064349236254ccd8d5bf56ab2b917fb" target="_blank" rel="nofollow" style="font-weight: bold; color: #1CAAD9;"> wondarstudios </a> on
                <a href="https://sketchfab.com?utm_medium=embed&utm_campaign=share-popup&utm_content=a064349236254ccd8d5bf56ab2b917fb" target="_blank" rel="nofollow" style="font-weight: bold; color: #1CAAD9;">Sketchfab</a>
            </p>
        </div>

        <!-- Model 2 -->
        <div class="model-wrapper">
            <h3>Lifting Mechanics</h3>
            <div class="model-content">
                <div class="model-iframe">
                    <iframe title="Pick up pack from the ground" frameborder="0" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true" allow="autoplay; fullscreen; xr-spatial-tracking" xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share src="https://sketchfab.com/models/901f2777b0be4780a695a09a2eee4695/embed"> </iframe>
                </div>
                <div class="model-description">
                    <h4>Proper Lifting Technique</h4>
                    <p>This animation demonstrates proper lifting biomechanics to minimize spinal stress and prevent injuries.</p>
                    <p>Key biomechanical principles:</p>
                    <ul>
                        <li>Bending at the knees rather than the waist reduces lumbar shear forces by 40-50%</li>
                        <li>Maintaining a neutral spine position distributes load evenly across discs</li>
                        <li>Keeping the load close to the body reduces torque on the spine</li>
                        <li>Using leg muscles (quadriceps, glutes) rather than back muscles for lifting</li>
                    </ul>
                    <div class="lifting-calculator">
                        <h5>Lifting Force Calculator</h5>
                        <label>Object Weight (kg): <input type="number" id="object-weight" min="1" value="10"></label>
                        <button onclick="calculateLiftingForce()">Calculate Required Force</button>
                        <p id="force-result"></p>
                    </div>
                </div>
            </div>
            <p style="font-size: 13px; font-weight: normal; margin: 5px; color: #4A4A4A;">
                <a href="https://sketchfab.com/3d-models/pick-up-pack-from-the-ground-901f2777b0be4780a695a09a2eee4695?utm_medium=embed&utm_campaign=share-popup&utm_content=901f2777b0be4780a695a09a2eee4695" target="_blank" rel="nofollow" style="font-weight: bold; color: #1CAAD9;"> Pick up pack from the ground </a> by
                <a href="https://sketchfab.com/wondarstudios?utm_medium=embed&utm_campaign=share-popup&utm_content=901f2777b0be4780a695a09a2eee4695" target="_blank" rel="nofollow" style="font-weight: bold; color: #1CAAD9;"> wondarstudios </a> on
                <a href="https://sketchfab.com?utm_medium=embed&utm_campaign=share-popup&utm_content=901f2777b0be4780a695a09a2eee4695" target="_blank" rel="nofollow" style="font-weight: bold; color: #1CAAD9;">Sketchfab</a>
            </p>
        </div>
    </section>

    <!-- Simulation Tool -->
    <section id="simulation" class="simulation-tool">
        <h2>Arm Movement Simulation</h2>
        <p>Interact with this simulation to understand the biomechanics of arm movement and torque calculations.</p>

        <div class="simulation-container">
            <canvas id="arm-simulation" width="600" height="400"></canvas>
            <div class="controls">
                <label>Shoulder Angle: <span id="shoulder-angle-value">90</span>°
                    <input type="range" id="shoulder-angle" min="0" max="180" value="90">
                </label>
                <label>Elbow Angle: <span id="elbow-angle-value">45</span>°
                    <input type="range" id="elbow-angle" min="0" max="150" value="45">
                </label>
                <label>Load Weight (kg):
                    <input type="number" id="load-weight" min="0" max="20" value="5">
                </label>
            </div>
            <button id="calculate-torque">Calculate Torque</button>

            <div class="simulation-results">
                <h4>Biomechanical Analysis</h4>
                <p>Shoulder Torque: <span id="shoulder-torque">0</span> Nm</p>
                <p>Elbow Torque: <span id="elbow-torque">0</span> Nm</p>
                <p>Deltoid Force: <span id="deltoid-force">0</span> N</p>
                <p>Biceps Force: <span id="biceps-force">0</span> N</p>
            </div>
            <a href="simulation.html" target="_blank">
                <button>3D Simulation</button>
            </a>
        </div>
    </section>

    <!-- Progress Dashboard -->
    <section class="progress-dashboard">
        <h2>Your Learning Progress</h2>
        <p>Track your achievements and stay motivated on your biomechanics learning journey.</p>

        <div class="progress-stats">
            <div class="stat-card">
                <div class="stat-value" id="completion-percentage">75%</div>
                <div class="stat-label">Path Completion</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="points-earned">24</div>
                <div class="stat-label">Points Earned</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="completed-modules">3</div>
                <div class="stat-label">Badges Earned</div>
            </div>
        </div>

        <div class="module-progress">
            <h3>Module Completion Status</h3>
            <div class="progress-track">
                <div class="progress-step" id="foundational-progress">
                    <span>Foundational Level</span>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" style="width: 100%"></div>
                    </div>
                    <span class="progress-percent">100%</span>
                </div>
                <div class="progress-step" id="intermediate-progress">
                    <span>Intermediate Level</span>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" style="width: 50%"></div>
                    </div>
                    <span class="progress-percent">50%</span>
                </div>
                <div class="progress-step" id="advanced-progress">
                    <span>Advanced Level</span>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" style="width: 0%"></div>
                    </div>
                    <span class="progress-percent">0%</span>
                </div>
            </div>
        </div>

        <div class="badges-earned">
            <h3>Your Badges</h3>
            <div class="badge tooltip" data-tooltip="Completed Foundational Level">
                <img src="https://cdn-icons-png.flaticon.com/512/3132/3132693.png" alt="Biomechanics Explorer">
                <span class="tooltiptext">Completed Foundational Level</span>
                <p>Explorer</p>
            </div>
            <div class="badge tooltip" data-tooltip="Perfect Quiz Score">
                <img src="https://cdn-icons-png.flaticon.com/512/3132/3132735.png" alt="Quiz Master">
                <span class="tooltiptext">Perfect Quiz Score</span>
                <p>Quiz Master</p>
            </div>
            <div class="badge tooltip" data-tooltip="3D Model Expert">
                <img src="https://cdn-icons-png.flaticon.com/512/3132/3132774.png" alt="3D Visualizer">
                <span class="tooltiptext">3D Model Expert</span>
                <p>3D Visualizer</p>
            </div>
            <div class="badge locked tooltip" data-tooltip="Complete Intermediate Level">
                <img src="https://cdn-icons-png.flaticon.com/512/3132/3132699.png" alt="Biomechanics Analyst">
                <span class="tooltiptext">Complete Intermediate Level</span>
                <p>Analyst</p>
            </div>
        </div>
    </section>

    <!-- Quiz Section -->
    <section id="quiz" class="quiz-container">
        <h2>Newton's Laws & Biomechanics Quiz</h2>
        <p>Test your understanding of biomechanics and Newton's Laws with this interactive quiz.</p>

        <a href="javascript:void(0)" class="start-quiz-btn" onclick="openQuizModal()">Start the Quiz</a>

        <!-- Quiz Modal -->
        <div id="quizModal" class="quiz-modal">
            <div class="quiz-modal-content">
                <span class="close" onclick="closeQuizModal()">&times;</span>
                <h2>Quiz: Newton's Laws & Biomechanics</h2>
                <div id="timer">Time left: 05:00</div>

                <form id="quizForm">
                    <div class="question" id="q1-container">
                        <h4>1. Which of Newton's laws explains the relationship between force, mass, and acceleration?</h4>
                        <label><input type="radio" name="q1" value="A"> A) First Law</label>
                        <label><input type="radio" name="q1" value="B"> B) Second Law</label>
                        <label><input type="radio" name="q1" value="C"> C) Third Law</label>
                        <label><input type="radio" name="q1" value="D"> D) None of the above</label>
                    </div>

                    <div class="question" id="q2-container">
                        <h4>2. In biomechanics, what does the term "torque" refer to?</h4>
                        <label><input type="radio" name="q2" value="A"> A) A straight-line force</label>
                        <label><input type="radio" name="q2" value="B"> B) Resistance to motion</label>
                        <label><input type="radio" name="q2" value="C"> C) A force that causes rotation around an axis</label>
                        <label><input type="radio" name="q2" value="D"> D) Frictional force</label>
                    </div>

                    <div class="question" id="q3-container">
                        <h4>3. When a person pushes against the ground, the ground pushes back with equal and opposite force. This is an example of:</h4>
                        <label><input type="radio" name="q3" value="A"> A) Newton's First Law</label>
                        <label><input type="radio" name="q3" value="B"> B) Newton's Second Law</label>
                        <label><input type="radio" name="q3" value="C"> C) Newton's Third Law</label>
                        <label><input type="radio" name="q3" value="D"> D) None of the above</label>
                    </div>

                    <button type="button" onclick="checkAnswers()">Submit Answers</button>
                </form>

                <div id="result"></div>
            </div>
        </div>
    </section>

    <!-- Community Forum -->
    <section id="community" class="community-forum">
        <h2>Community Discussions</h2>
        <p>Connect with other learners, ask questions, and share knowledge about biomechanics.</p>

        <div class="forum-tabs">
            <button class="active" onclick="changeForumTab('popular')">Popular Topics</button>
            <button onclick="changeForumTab('questions')">My Questions</button>
            <button onclick="changeForumTab('groups')">Study Groups</button>
        </div>

        <div id="popular-topics" class="forum-tab-content">
            <div class="discussion-thread">
                <div class="thread-header">
                    <h3>How to calculate muscle force from EMG data?</h3>
                    <span class="thread-meta">By: Alex Johnson - 3 days ago</span>
                </div>
                <div class="thread-content">
                    <p>I'm trying to understand how to calculate muscle force based on EMG activity. Does anyone have experience with normalization procedures and biomechanical modeling?</p>
                </div>
                <div class="thread-actions">
                    <button onclick="likeThread(1)"><i class="far fa-thumbs-up"></i> <span id="likes-1">8</span> Likes</button>
                    <button onclick="replyToThread(1)"><i class="far fa-comment"></i> Reply</button>
                    <button onclick="shareThread(1)"><i class="fas fa-share"></i> Share</button>
                </div>
            </div>

            <div class="discussion-thread">
                <div class="thread-header">
                    <h3>Best software for gait analysis?</h3>
                    <span class="thread-meta">By: Maria Garcia - 1 week ago</span>
                </div>
                <div class="thread-content">
                    <p>Looking for recommendations for software tools to analyze walking gait patterns. Preferably open-source options for student researchers.</p>
                </div>
                <div class="thread-actions">
                    <button onclick="likeThread(2)"><i class="far fa-thumbs-up"></i> <span id="likes-2">12</span> Likes</button>
                    <button onclick="replyToThread(2)"><i class="far fa-comment"></i> <span id="replies-2">5</span> Replies</button>
                    <button onclick="shareThread(2)"><i class="fas fa-share"></i> Share</button>
                </div>
            </div>
        </div>

        <div id="my-questions" class="forum-tab-content" style="display: none;">
            <div class="discussion-thread">
                <div class="thread-header">
                    <h3>Understanding torque in the shoulder joint</h3>
                    <span class="thread-meta">By: You - 2 days ago</span>
                </div>
                <div class="thread-content">
                    <p>Can someone explain how to calculate the torque at the shoulder joint when lifting a weight? I'm confused about the moment arm calculations.</p>
                </div>
                <div class="thread-actions">
                    <button onclick="likeThread(3)"><i class="far fa-thumbs-up"></i> <span id="likes-3">4</span> Likes</button>
                    <button onclick="replyToThread(3)"><i class="far fa-comment"></i> <span id="replies-3">2</span> Replies</button>
                    <button onclick="shareThread(3)"><i class="fas fa-share"></i> Share</button>
                </div>
            </div>
        </div>

        <div id="study-groups" class="forum-tab-content" style="display: none;">
            <div class="discussion-thread">
                <div class="thread-header">
                    <h3>Biomechanics Study Group - Weekly Meetup</h3>
                    <span class="thread-meta">By: David Chen - 5 days ago</span>
                </div>
                <div class="thread-content">
                    <p>Join our weekly study group every Thursday at 7 PM to discuss biomechanics concepts and work through problems together. All levels welcome!</p>
                </div>
                <div class="thread-actions">
                    <button onclick="joinStudyGroup()"><i class="fas fa-user-plus"></i> Join Group</button>
                    <button onclick="likeThread(4)"><i class="far fa-thumbs-up"></i> <span id="likes-4">15</span> Likes</button>
                    <button onclick="shareThread(4)"><i class="fas fa-share"></i> Share</button>
                </div>
            </div>
        </div>

        <div class="start-discussion">
            <h4>Start a New Discussion</h4>
            <textarea id="new-discussion-text" placeholder="What would you like to discuss?" rows="3"></textarea>
            <button onclick="postNewDiscussion()">Post Question</button>
        </div>
    </section>

    <!-- Resource Library -->
    <section id="resources" class="resource-library">
        <h2>Resource Library</h2>
        <p>Access our collection of biomechanics resources including articles, videos, and research papers.</p>

        <div class="resource-filters">
            <select id="resource-type">
                <option value="all">All Types</option>
                <option value="article">Articles</option>
                <option value="video">Videos</option>
                <option value="paper">Research Papers</option>
            </select>
            <select id="resource-topic">
                <option value="all">All Topics</option>
                <option value="kinematics">Kinematics</option>
                <option value="kinetics">Kinetics</option>
                <option value="gait">Gait Analysis</option>
                <option value="sports">Sports Biomechanics</option>
            </select>
            <input type="text" id="resource-search" placeholder="Search resources...">
        </div>

        <div class="resource-grid">
            <div class="resource-card">
                <div class="resource-thumbnail" style="background-image: url('https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80');"></div>
                <div class="resource-info">
                    <h4>Introduction to Biomechanics</h4>
                    <p class="resource-meta">Article • Kinematics • Beginner</p>
                    <p>A comprehensive introduction to the fundamental principles of biomechanics.</p>
                    <div class="resource-actions">
                        <button onclick="viewResource(1)">View</button>
                        <button onclick="saveResource(1)">Save</button>
                    </div>
                </div>
            </div>

            <div class="resource-card">
                <div class="resource-thumbnail" style="background-image: url('https://images.unsplash.com/photo-1545205597-3d9d02c29597?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80');"></div>
                <div class="resource-info">
                    <h4>Gait Analysis Techniques</h4>
                    <p class="resource-meta">Video • Gait • Intermediate</p>
                    <p>Learn about modern techniques for analyzing human walking patterns.</p>
                    <div class="resource-actions">
                        <button onclick="viewResource(2)">View</button>
                        <button onclick="saveResource(2)">Save</button>
                    </div>
                </div>
            </div>

            <div class="resource-card">
                <div class="resource-thumbnail" style="background-image: url('https://images.unsplash.com/photo-1505664194779-8beaceb93744?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80');"></div>
                <div class="resource-info">
                    <h4>Force Plate Analysis</h4>
                    <p class="resource-meta">Research Paper • Kinetics • Advanced</p>
                    <p>Advanced methods for interpreting force plate data in biomechanical studies.</p>
                    <div class="resource-actions">
                        <button onclick="viewResource(3)">View</button>
                        <button onclick="saveResource(3)">Save</button>
                    </div>
                </div>
            </div>

            <div class="resource-card">
                <div class="resource-thumbnail" style="background-image: url('https://images.unsplash.com/photo-1518611012118-696072aa579a?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80');"></div>
                <div class="resource-info">
                    <h4>Sports Performance Analysis</h4>
                    <p class="resource-meta">Article • Sports • Intermediate</p>
                    <p>How biomechanics can improve athletic performance and prevent injuries.</p>
                    <div class="resource-actions">
                        <button onclick="viewResource(4)">View</button>
                        <button onclick="saveResource(4)">Save</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- External Tools Integration -->
    <section class="external-integration">
        <h2>Integrated Biomechanics Tools</h2>
        <p>Access specialized biomechanics tools directly from our platform.</p>

        <div class="tool-card">
            <img src="https://cdn-icons-png.flaticon.com/512/2103/2103633.png" alt="Motion Analysis">
            <h3>Motion Analysis Tool</h3>
            <p>Analyze movement patterns and calculate kinematic variables.</p>
            <button class="launch-tool" onclick="launchMotionTool()">Launch Tool</button>
        </div>

        <div class="tool-card">
            <img src="https://cdn-icons-png.flaticon.com/512/2936/2936886.png" alt="Force Calculator">
            <h3>Force Calculator</h3>
            <p>Calculate joint forces and moments based on movement data.</p>
            <button class="launch-tool" onclick="launchForceCalculator()">Launch Tool</button>
        </div>
    </section>
</div>

<!-- Footer -->
<footer>
    <div class="footer-links">
        <a href="#">About Us</a>
        <a href="#">Contact</a>
        <a href="#">Privacy Policy</a>
        <a href="#">Terms of Service</a>
        <a href="#">FAQ</a>
    </div>
    <div class="social-icons">
        <a href="#"><i class="fab fa-facebook"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-linkedin"></i></a>
        <a href="#"><i class="fab fa-youtube"></i></a>
    </div>
    <p>&copy; 2023 BioLearn Interactive. All rights reserved.</p>
</footer>

<!-- Posture Tips Modal -->
<div id="posture-modal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal('posture-modal')">&times;</span>
        <h3>Optimal Sitting Posture Tips</h3>
        <p>Maintaining proper posture while sitting can prevent musculoskeletal disorders and reduce strain:</p>
        <ul>
            <li>Keep your feet flat on the floor or on a footrest</li>
            <li>Maintain a small gap between the back of your knees and the chair</li>
            <li>Keep your knees at or below hip level</li>
            <li>Adjust your chair to support your lower back (lumbar support)</li>
            <li>Relax your shoulders and keep your forearms parallel to the ground</li>
            <li>Position your screen at eye level to avoid neck flexion</li>
            <li>Take frequent breaks (every 30 minutes) to stand and stretch</li>
        </ul>
        <p>Remember: The best posture is your next posture - change positions frequently!</p>
    </div>
</div>

<!-- Resource Viewer Modal -->
<div id="resource-modal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal('resource-modal')">&times;</span>
        <div id="resource-modal-content">
            <!-- Content will be loaded here dynamically -->
        </div>
    </div>
</div>

<script>
    // Learning Path Module System
    function startModule(moduleLevel) {
        alert(`Starting ${moduleLevel} level module!`);
        if (moduleLevel === 'foundational') {
            document.getElementById('intermediate-btn').disabled = false;
            document.getElementById('intermediate-btn').textContent = 'Start Learning';
            document.getElementById('intermediate-btn').onclick = function() { startModule('intermediate'); };
        } else if (moduleLevel === 'intermediate') {
            document.getElementById('advanced-btn').disabled = false;
            document.getElementById('advanced-btn').textContent = 'Start Learning';
            document.getElementById('advanced-btn').onclick = function() { startModule('advanced'); };
        }
    }



/*
    // نظام التقدم والتقييم
    const userProgress = {
        foundational: {
            completed: false,
            lessons: {
                'Introduction to Biomechanics': false,
                "Newton's Laws of Motion": false,
                'Concepts of Force and Torque': false,
                'Basics of Linear Motion': true // مثال على درس مكتمل
            },
            score: 10
        },
        intermediate: {
            completed: false,
            lessons: {
                'Muscle and Joint Mechanics': false,
                'Gait and Movement Analysis': false,
                'Spinal Biomechanics': false
            },
            score: 0
        },
        advanced: {
            completed: false,
            lessons: {
                'Sports Biomechanics': false,
                'Rehabilitation Mechanics': false,
                'Research Methods': false
            },
            score: 0
        },
        totalPoints: 10
    };

    // تهيئة التقدم من LocalStorage إذا وجد
    function initProgress() {
        const savedProgress = localStorage.getItem('biomechanicsProgress');
        if (savedProgress) {
            Object.assign(userProgress, JSON.parse(savedProgress));
            updateProgressUI();
        } else {
            // حفظ الحالة الابتدائية
            saveProgress();
        }
    }

    // حفظ التقدم في LocalStorage
    function saveProgress() {
        localStorage.setItem('biomechanicsProgress', JSON.stringify(userProgress));
    }

    // تحديث واجهة المستخدم بناءً على التقدم
    function updateProgressUI() {
        // حساب الدروس المكتملة لكل مستوى
        const foundationalCompleted = Object.values(userProgress.foundational.lessons).filter(Boolean).length;
        const intermediateCompleted = Object.values(userProgress.intermediate.lessons).filter(Boolean).length;
        const advancedCompleted = Object.values(userProgress.advanced.lessons).filter(Boolean).length;

        // إجمالي الدروس (4 تأسيسي + 3 متوسط + 3 متقدم)
        const totalLessons = 10;
        const completedLessons = foundationalCompleted + intermediateCompleted + advancedCompleted;

        // حساب النسب المئوية
        const foundationalPercent = (foundationalCompleted / 4) * 100;
        const intermediatePercent = (intermediateCompleted / 3) * 100;
        const advancedPercent = (advancedCompleted / 3) * 100;
        const totalPercent = (completedLessons / totalLessons) * 100;

        // تحديث واجهة المستخدم
        document.getElementById('completion-percentage').textContent = `${Math.round(totalPercent)}%`;
        document.getElementById('points-earned').textContent = userProgress.totalPoints;
        document.getElementById('completed-modules').textContent = completedLessons;

        // تحديث أشرطة التقدم
        document.querySelector('#foundational-progress .progress-bar-fill').style.width = `${foundationalPercent}%`;
        document.querySelector('#foundational-progress .progress-percent').textContent = `${Math.round(foundationalPercent)}%`;

        document.querySelector('#intermediate-progress .progress-bar-fill').style.width = `${intermediatePercent}%`;
        document.querySelector('#intermediate-progress .progress-percent').textContent = `${Math.round(intermediatePercent)}%`;

        document.querySelector('#advanced-progress .progress-bar-fill').style.width = `${advancedPercent}%`;
        document.querySelector('#advanced-progress .progress-percent').textContent = `${Math.round(advancedPercent)}%`;

        // تمييز المستويات المكتملة
        if (foundationalPercent === 100) {
            document.getElementById('foundational-progress').classList.add('completed-module');
            document.getElementById('intermediate-btn').disabled = false;
            document.getElementById('intermediate-btn').textContent = 'Start Learning';
            document.getElementById('intermediate-btn').onclick = function() { startModule('intermediate'); };
        }

        if (intermediatePercent === 100) {
            document.getElementById('intermediate-progress').classList.add('completed-module');
            document.getElementById('advanced-btn').disabled = false;
            document.getElementById('advanced-btn').textContent = 'Start Learning';
            document.getElementById('advanced-btn').onclick = function() { startModule('advanced'); };
        }

        if (advancedPercent === 100) {
            document.getElementById('advanced-progress').classList.add('completed-module');
        }

        // تحديث الشارات
        updateBadges();
    }

    // تحديث الشارات بناءً على التقدم
    function updateBadges() {
        const badgesContainer = document.querySelector('.badges-earned');
        badgesContainer.innerHTML = '<h3>Your Badges</h3>';

        // شارة المستوى التأسيسي
        if (Object.values(userProgress.foundational.lessons).every(Boolean)) {
            addBadge('Explorer', 'Completed Foundational Level', '3132693');
        }

        // شارة المستوى المتوسط
        if (Object.values(userProgress.intermediate.lessons).every(Boolean)) {
            addBadge('Analyst', 'Completed Intermediate Level', '3132699');
        }

        // شارة المستوى المتقدم
        if (Object.values(userProgress.advanced.lessons).every(Boolean)) {
            addBadge('Expert', 'Completed Advanced Level', '3132700');
        }

        // شارة الإنجاز في الاختبارات
        if (userProgress.totalPoints >= 50) {
            addBadge('Quiz Master', 'Earned 50+ points', '3132735');
        }
    }

    // دالة مساعدة لإضافة شارة
    function addBadge(name, description, iconCode) {
        const badge = document.createElement('div');
        badge.className = 'badge tooltip';
        badge.innerHTML = `
        <img src="https://cdn-icons-png.flaticon.com/512/3132/${iconCode}.png" alt="${name}">
        <span class="tooltiptext">${description}</span>
        <p>${name}</p>
      `;
        document.querySelector('.badges-earned').appendChild(badge);
    }

    // دالة لإنهاء درس معين
    function completeLesson(module, lessonName, points = 10) {
        if (!userProgress[module].lessons[lessonName]) {
            userProgress[module].lessons[lessonName] = true;
            userProgress.totalPoints += points;

            // تحقق إذا تم إكمال جميع دروس المستوى
            const allLessonsCompleted = Object.values(userProgress[module].lessons).every(Boolean);
            if (allLessonsCompleted) {
                userProgress[module].completed = true;
                userProgress.totalPoints += 20; // نقاط إضافية لإكمال المستوى
                alert(`Congratulations! You've completed the ${module} level!`);
            }

            saveProgress();
            updateProgressUI();
        }
    }

    // دالة بدء الوحدة
    function startModule(moduleLevel) {
        alert(`Starting ${moduleLevel} level module!`);
        // في تطبيق حقيقي، هنا ستكون هناك عملية تعلم فعلية
        // يمكنك استدعاء completeLesson() عند إنهاء كل درس
        // مثال: completeLesson('foundational', 'Newton\'s Laws of Motion');
    }
*/
    // دالة عرض نصائح الجلوس
    function showPostureTips() {
        document.getElementById('posture-modal').style.display = 'block';
    }

    // دالة حساب قوة الرفع
    function calculateLiftingForce() {
        const weight = parseFloat(document.getElementById('object-weight').value);
        const force = weight * 9.81 * 1.5; // نموذج مبسط للبيوميكانيك
        document.getElementById('force-result').textContent =
            `Estimated required lifting force: ${force.toFixed(1)} N (${(force/9.81).toFixed(1)} kg equivalent)`;
    }

    // Simulation Tool Functions
    const canvas = document.getElementById('arm-simulation');
    const ctx = canvas.getContext('2d');
    let shoulderAngle = 90;
    let elbowAngle = 45;
    let loadWeight = 5;

    function initSimulation() {
        updateArmSimulation();

        document.getElementById('shoulder-angle').addEventListener('input', function() {
            shoulderAngle = parseInt(this.value);
            document.getElementById('shoulder-angle-value').textContent = shoulderAngle;
            updateArmSimulation();
        });

        document.getElementById('elbow-angle').addEventListener('input', function() {
            elbowAngle = parseInt(this.value);
            document.getElementById('elbow-angle-value').textContent = elbowAngle;
            updateArmSimulation();
        });

        document.getElementById('load-weight').addEventListener('input', function() {
            loadWeight = parseInt(this.value);
            updateArmSimulation();
        });

        document.getElementById('calculate-torque').addEventListener('click', calculateTorques);
    }

    function updateArmSimulation() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        const shoulderX = canvas.width / 3;
        const shoulderY = canvas.height / 2;

        // Draw shoulder joint
        ctx.beginPath();
        ctx.arc(shoulderX, shoulderY, 10, 0, Math.PI * 2);
        ctx.fillStyle = '#3498db';
        ctx.fill();

        // Draw upper arm
        const upperArmLength = 120;
        const elbowX = shoulderX + upperArmLength * Math.cos((shoulderAngle - 90) * Math.PI / 180);
        const elbowY = shoulderY + upperArmLength * Math.sin((shoulderAngle - 90) * Math.PI / 180);
        ctx.beginPath();
        ctx.moveTo(shoulderX, shoulderY);
        ctx.lineTo(elbowX, elbowY);
        ctx.lineWidth = 8;
        ctx.strokeStyle = '#2c3e50';
        ctx.stroke();

        // Draw elbow joint
        ctx.beginPath();
        ctx.arc(elbowX, elbowY, 8, 0, Math.PI * 2);
        ctx.fillStyle = '#3498db';
        ctx.fill();

        // Draw forearm
        const forearmLength = 100;
        const handX = elbowX + forearmLength * Math.cos((shoulderAngle + elbowAngle - 90) * Math.PI / 180);
        const handY = elbowY + forearmLength * Math.sin((shoulderAngle + elbowAngle - 90) * Math.PI / 180);
        ctx.beginPath();
        ctx.moveTo(elbowX, elbowY);
        ctx.lineTo(handX, handY);
        ctx.lineWidth = 6;
        ctx.strokeStyle = '#2c3e50';
        ctx.stroke();

        // Draw hand with weight
        ctx.beginPath();
        ctx.arc(handX, handY, 6, 0, Math.PI * 2);
        ctx.fillStyle = '#e74c3c';
        ctx.fill();

        // Draw weight
        const weightSize = 5 + loadWeight;
        ctx.beginPath();
        ctx.rect(handX - weightSize/2, handY, weightSize, weightSize * 2);
        ctx.fillStyle = '#7f8c8d';
        ctx.fill();

        drawMuscles(shoulderX, shoulderY, elbowX, elbowY, handX, handY);
    }

    function drawMuscles(shoulderX, shoulderY, elbowX, elbowY, handX, handY) {
        // Deltoid (shoulder abductor)
        ctx.beginPath();
        ctx.moveTo(shoulderX - 15, shoulderY - 5);
        ctx.lineTo(elbowX - 10, elbowY - 15);
        ctx.lineWidth = 3;
        ctx.strokeStyle = '#e74c3c';
        ctx.stroke();

        // Biceps (elbow flexor)
        ctx.beginPath();
        ctx.moveTo(shoulderX + 5, shoulderY - 10);
        ctx.lineTo(elbowX + 5, elbowY - 20);
        ctx.lineTo(handX, handY - 5);
        ctx.lineWidth = 4;
        ctx.strokeStyle = '#e74c3c';
        ctx.stroke();
    }

    function calculateTorques() {
        const upperArmLength = 0.3; // meters
        const forearmLength = 0.25; // meters
        const upperArmMass = 2; // kg
        const forearmMass = 1.5; // kg
        const handMass = 0.5; // kg

        const shoulderRad = (shoulderAngle - 90) * Math.PI / 180;
        const elbowRad = (shoulderAngle + elbowAngle - 90) * Math.PI / 180;

        const upperArmCOM = upperArmLength / 2;
        const forearmCOM = forearmLength / 2;

        const elbowTorque = (forearmMass * 9.81 * forearmCOM * Math.sin(elbowRad)) +
            (loadWeight * 9.81 * forearmLength * Math.sin(elbowRad));

        const shoulderTorque = (upperArmMass * 9.81 * upperArmCOM * Math.sin(shoulderRad)) +
            (forearmMass * 9.81 * (upperArmLength * Math.sin(shoulderRad) + forearmCOM * Math.sin(elbowRad))) +
            (loadWeight * 9.81 * (upperArmLength * Math.sin(shoulderRad) + forearmLength * Math.sin(elbowRad)));

        const deltoidForce = shoulderTorque / (0.15 * Math.sin(shoulderRad));
        const bicepsForce = elbowTorque / (0.05 * Math.sin(elbowRad));

        document.getElementById('shoulder-torque').textContent = shoulderTorque.toFixed(1);
        document.getElementById('elbow-torque').textContent = elbowTorque.toFixed(1);
        document.getElementById('deltoid-force').textContent = deltoidForce.toFixed(1);
        document.getElementById('biceps-force').textContent = bicepsForce.toFixed(1);
    }

    // Community Forum Functions
    function changeForumTab(tabName) {
        // Hide all tab contents
        document.querySelectorAll('.forum-tab-content').forEach(tab => {
            tab.style.display = 'none';
        });

        // Show selected tab content
        document.getElementById(tabName + '-topics').style.display = 'block';

        // Update active tab button
        document.querySelectorAll('.forum-tabs button').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.classList.add('active');
    }

    function likeThread(threadId) {
        const likesElement = document.getElementById('likes-' + threadId);
        let likes = parseInt(likesElement.textContent);
        likes++;
        likesElement.textContent = likes;
        alert('Thanks for liking this thread!');
    }

    function replyToThread(threadId) {
        const reply = prompt('Enter your reply:');
        if (reply) {
            const repliesElement = document.getElementById('replies-' + threadId);
            if (repliesElement) {
                let replies = parseInt(repliesElement.textContent);
                replies++;
                repliesElement.textContent = replies;
            }
            alert('Reply posted successfully!');
        }
    }

    function shareThread(threadId) {
        alert('Sharing thread ' + threadId + ' to your network.');
    }

    function joinStudyGroup() {
        alert('You have joined the study group! Meeting details have been sent to your email.');
    }

    function postNewDiscussion() {
        const text = document.getElementById('new-discussion-text').value;
        if (text.trim() === '') {
            alert('Please enter some text for your discussion.');
            return;
        }
        alert('New discussion posted: ' + text);
        document.getElementById('new-discussion-text').value = '';
    }

    // Resource Library Functions
    function viewResource(resourceId) {
        // In a real app, this would fetch the resource content from a server
        const modalContent = document.getElementById('resource-modal-content');
        modalContent.innerHTML = `
        <h3>Resource Preview</h3>
        <p>This would show the full content of resource ${resourceId} in a real application.</p>
        <p>For this demo, we're showing a placeholder. In a real app, this might display:</p>
        <ul>
          <li>Full articles with text and images</li>
          <li>Embedded videos</li>
          <li>PDF viewers for research papers</li>
          <li>Interactive content</li>
        </ul>
        <button class="launch-tool" onclick="closeModal('resource-modal')">Close</button>
      `;
        document.getElementById('resource-modal').style.display = 'block';
    }

    function saveResource(resourceId) {
        alert(`Resource ${resourceId} has been saved to your library.`);
    }

    // Quiz System Functions
    const totalTime = 5 * 60; // 5 minutes
    let timeLeft = totalTime;
    const timerElement = document.getElementById("timer");

    function openQuizModal() {
        document.getElementById('quizModal').style.display = 'block';
        startTimer();
    }

    function closeQuizModal() {
        document.getElementById('quizModal').style.display = 'none';
        clearInterval(timerInterval);
    }

    function startTimer() {
        timeLeft = totalTime;
        updateTimerDisplay();

        timerInterval = setInterval(() => {
            timeLeft--;
            updateTimerDisplay();

            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                checkAnswers(true);
            }
        }, 1000);
    }

    function updateTimerDisplay() {
        let minutes = Math.floor(timeLeft / 60);
        let seconds = timeLeft % 60;
        timerElement.innerText = `Time left: ${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
    }

    function checkAnswers(autoSubmit = false) {
        clearInterval(timerInterval);

        const correctAnswers = {
            q1: "B",
            q2: "C",
            q3: "C"
        };

        let score = 0;
        let total = Object.keys(correctAnswers).length;

        for (let q in correctAnswers) {
            const selected = document.querySelector(`input[name="${q}"]:checked`);
            const questionContainer = document.getElementById(`${q}-container`);

            const existingFeedback = questionContainer.querySelector(".correct-answer");
            if (existingFeedback) existingFeedback.remove();

            if (selected && selected.value === correctAnswers[q]) {
                score++;
            } else {
                const correctText = document.createElement("div");
                correctText.className = "correct-answer";
                correctText.innerText = `✔ Correct answer: ${correctAnswers[q]}) ${getAnswerText(q, correctAnswers[q])}`;
                questionContainer.appendChild(correctText);
            }
        }

        const resultText = autoSubmit
            ? `⏰ Time's up! You scored ${score} out of ${total}.`
            : `✔️ You scored ${score} out of ${total}.`;

        document.getElementById("result").innerText = resultText;

        // Award points based on quiz performance
        const pointsEarned = Math.floor((score / total) * 20); // Up to 20 points for perfect score
        userProgress.totalPoints += pointsEarned;
        saveProgress();
        updateProgressUI();
    }

    function getAnswerText(questionId, answerLetter) {
        const answers = {
            q1: {
                A: "First Law",
                B: "Second Law",
                C: "Third Law",
                D: "None of the above"
            },
            q2: {
                A: "A straight-line force",
                B: "Resistance to motion",
                C: "A force that causes rotation around an axis",
                D: "Frictional force"
            },
            q3: {
                A: "Newton's First Law",
                B: "Newton's Second Law",
                C: "Newton's Third Law",
                D: "None of the above"
            }
        };

        return answers[questionId][answerLetter];
    }

    // External Tools Integration
    function launchMotionTool() {
        alert('Launching Motion Analysis Tool...');
        // In a real app, this would open/embed the motion analysis tool
    }

    function launchForceCalculator() {
        alert('Launching Force Calculator...');
        // In a real app, this would open/embed the force calculator tool
    }

    // Modal Functions
    function closeModal(modalId) {
        document.getElementById(modalId).style.display = 'none';
    }

    // Initialize the page
    window.onload = function() {
        initProgress();
        initSimulation();

        // Close modal when clicking outside of it
        window.onclick = function(event) {
            if (event.target.className === 'modal') {
                event.target.style.display = 'none';
            }
        };
    };

    let timerInterval;
</script>
</body>
</html>